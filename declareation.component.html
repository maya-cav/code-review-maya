<div class="card limited-data-table-card" *ngIf="statusEvent!='116'">
   <h2>{{title}}</h2>
    <form class="search-filed d-flex" role="search">
        <input class="form-control" name="item" #inputField type="search"
            placeholder="הכנס סכום שטרות :" aria-label="Search"
            (keydown.enter)="onEnter($event)">
        <button class="search-btn d-flex" type="submit">
            <svg xmlns="http://www.w3.org/2000/svg" width="362" height="362" viewBox="0 0 362 362" fill="none">
                <path
                    d="M354.707 324.573L285.523 255.389C306.619 227.885 318.035 194.18 317.992 159.517C317.992 117.17 301.501 77.3729 271.56 47.4316C256.876 32.6652 239.408 20.9581 220.168 12.988C200.929 5.01795 180.3 0.943188 159.475 0.999601C117.139 0.999601 77.3413 17.4903 47.3893 47.4316C-14.4027 109.234 -14.4027 209.8 47.3893 271.602C62.0735 286.369 79.541 298.077 98.7806 306.047C118.02 314.017 138.65 318.091 159.475 318.034C194.611 318.034 227.901 306.525 255.357 285.554L324.541 354.749C328.701 358.909 334.163 361 339.624 361C345.085 361 350.547 358.909 354.707 354.749C356.689 352.768 358.261 350.416 359.333 347.827C360.406 345.238 360.958 342.463 360.958 339.661C360.958 336.859 360.406 334.084 359.333 331.495C358.261 328.906 356.689 326.554 354.707 324.573ZM77.5653 241.437C32.392 196.264 32.4027 122.77 77.5653 77.5969C88.2999 66.8085 101.067 58.2557 115.129 52.4334C129.19 46.6111 144.266 43.6349 159.485 43.6769C174.703 43.6351 189.777 46.6115 203.837 52.4338C217.897 58.2561 230.662 66.8088 241.395 77.5969C252.186 88.3299 260.741 101.097 266.566 115.158C272.39 129.22 275.367 144.297 275.325 159.517C275.325 190.461 263.272 219.549 241.395 241.437C219.517 263.325 190.429 275.357 159.475 275.357C128.541 275.357 99.4427 263.304 77.5547 241.437H77.5653Z"
                    fill="black" />
            </svg>
        </button>
    </form>
    <div class="limited-data-table">
        <table class="table">
            <thead>
                <tr>
                    <th scope="col" class="w-25">סכום</th>
                    <th scope="col" class="w-25">כמות</th>
                    <th class="wide-column">סה"כ</th>
                </tr>
            </thead>
            <tbody *ngFor="let item of declarArr; let i = index" class="SaleItems">
                <tr>
                    <td>{{ item.amount }}</td>
                    <td class="quantity">{{ item.quantity }}</td>
                    <td class="quantity">{{ item.total }}</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td>סה"כ להצהרה:</td>
                    <td colspan="2">{{ grandTotal }}</td>
                </tr>                
            </tfoot>
        </table>
    </div>
</div>


<div class="card limited-data-table-card" *ngIf="statusEvent==='116'">
   <h2>{{title}}</h2>
    <form class="search-filed d-flex" role="search">
        <input class="form-control" name="item" #inputField [disabled]="payments.length > 0" type="search"
            placeholder=" הזן או סרוק קוד פריט" aria-label="Search" [(ngModel)]="itemLine"
            (keydown.enter)="onEnterVendor($event)" autofocus>
        <button class="search-btn d-flex" type="submit" [disabled]="payments.length > 0">
            <svg xmlns="http://www.w3.org/2000/svg" width="362" height="362" viewBox="0 0 362 362" fill="none">
                <path
                    d="M354.707 324.573L285.523 255.389C306.619 227.885 318.035 194.18 317.992 159.517C317.992 117.17 301.501 77.3729 271.56 47.4316C256.876 32.6652 239.408 20.9581 220.168 12.988C200.929 5.01795 180.3 0.943188 159.475 0.999601C117.139 0.999601 77.3413 17.4903 47.3893 47.4316C-14.4027 109.234 -14.4027 209.8 47.3893 271.602C62.0735 286.369 79.541 298.077 98.7806 306.047C118.02 314.017 138.65 318.091 159.475 318.034C194.611 318.034 227.901 306.525 255.357 285.554L324.541 354.749C328.701 358.909 334.163 361 339.624 361C345.085 361 350.547 358.909 354.707 354.749C356.689 352.768 358.261 350.416 359.333 347.827C360.406 345.238 360.958 342.463 360.958 339.661C360.958 336.859 360.406 334.084 359.333 331.495C358.261 328.906 356.689 326.554 354.707 324.573ZM77.5653 241.437C32.392 196.264 32.4027 122.77 77.5653 77.5969C88.2999 66.8085 101.067 58.2557 115.129 52.4334C129.19 46.6111 144.266 43.6349 159.485 43.6769C174.703 43.6351 189.777 46.6115 203.837 52.4338C217.897 58.2561 230.662 66.8088 241.395 77.5969C252.186 88.3299 260.741 101.097 266.566 115.158C272.39 129.22 275.367 144.297 275.325 159.517C275.325 190.461 263.272 219.549 241.395 241.437C219.517 263.325 190.429 275.357 159.475 275.357C128.541 275.357 99.4427 263.304 77.5547 241.437H77.5653Z"
                    fill="black" />
            </svg>
        </button>
    </form>
    <div class="limited-data-table">
        <table class="table">
            <thead>
                <tr [ngClass]="{'SaleEnded': lastSaleEnded}">
                    <th scope="col">מק"ט</th>
                    <th scope="col">תאור</th>
                    <th scope="col">כמות</th>
                    <th scope="col">מחיר</th>
                    <th>סה"כ</th>
                </tr>
            </thead>
            <tbody *ngFor="let item of vendorDeclare; let i = index" class="SaleItems">
                <tr [ngClass]="{'SaleEnded': lastSaleEnded}  " [class.selected]="i === selectedIndex">
                    <td>{{ item.itemCode }}</td>
                    <td>{{ item.description }}</td>
                    <td>{{ item.amount }}</td>
                    <td>{{ item.vendorPrice }}</td>
                    <td class="quantity">{{ item.totalPrice }}</td>
                    <td>
                        <button class="delete-btn" [disabled]="payments.length > 0 || lastSaleEnded"
                            (click)="deleteItem(item.itemCode)">
                            <img src="assets/img/delete-icon.svg" alt="delete-icon">
                        </button>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr [ngClass]="{'SaleEnded': lastSaleEnded}">
                    <td colspan="3">{{ itemSummaryLine }}</td>
                    <td>סה"כ :</td>
                    <td colspan="2" class="quantity">{{ grandTotal }}</td>
                </tr>
            </tfoot>
        </table>
    </div>
</div>